"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var log_1 = require("./log");
var utils_1 = require("./utils");
/**
 * The estimate() method of the StorageManager interface asks the Storage Manager
 * for how much storage the app takes up (usage),
 * and how much space is available (quota).
 */
exports.reportStorageEstimate = function (storageInfo) {
    var estimateUsageDetails = 'usageDetails' in storageInfo ? storageInfo.usageDetails : {};
    log_1.logData('storageEstimate', {
        quota: utils_1.convertToKB(storageInfo.quota),
        usage: utils_1.convertToKB(storageInfo.usage),
        caches: utils_1.convertToKB(estimateUsageDetails.caches),
        indexedDB: utils_1.convertToKB(estimateUsageDetails.indexedDB),
        serviceWorker: utils_1.convertToKB(estimateUsageDetails.serviceWorkerRegistrations),
    });
};
//# sourceMappingURL=storageEstimate.js.map