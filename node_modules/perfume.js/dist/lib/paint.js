"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var log_1 = require("./log");
var metrics_1 = require("./metrics");
var observeInstances_1 = require("./observeInstances");
var performanceObserver_1 = require("./performanceObserver");
var totalBlockingTime_1 = require("./totalBlockingTime");
/**
 * First Paint is essentially the paint after which
 * the biggest above-the-fold layout change has happened.
 */
exports.initFirstPaint = function (performanceEntries) {
    performanceEntries.forEach(function (entry) {
        if (entry.name === 'first-paint') {
            log_1.logMetric(entry.startTime, 'fp');
        }
        else if (entry.name === metrics_1.fcpEntryName) {
            metrics_1.fcp.value = entry.startTime;
            log_1.logMetric(metrics_1.fcp.value, 'fcp');
            observeInstances_1.perfObservers[4] = performanceObserver_1.po('longtask', totalBlockingTime_1.initTotalBlockingTime);
            performanceObserver_1.poDisconnect(0);
        }
    });
};
exports.initLargestContentfulPaint = function (performanceEntries) {
    var lastEntry = performanceEntries.pop();
    if (lastEntry) {
        metrics_1.lcp.value = lastEntry.renderTime || lastEntry.loadTime;
    }
};
exports.initElementTiming = function (performanceEntries) {
    performanceEntries.forEach(function (entry) {
        if (entry.identifier) {
            log_1.logMetric(entry.startTime, entry.identifier);
        }
    });
};
//# sourceMappingURL=paint.js.map