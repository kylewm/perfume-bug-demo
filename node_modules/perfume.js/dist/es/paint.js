import { logMetric } from './log';
import { fcp, fcpEntryName, lcp } from './metrics';
import { perfObservers } from './observeInstances';
import { po, poDisconnect } from './performanceObserver';
import { initTotalBlockingTime } from './totalBlockingTime';
/**
 * First Paint is essentially the paint after which
 * the biggest above-the-fold layout change has happened.
 */
export var initFirstPaint = function (performanceEntries) {
    performanceEntries.forEach(function (entry) {
        if (entry.name === 'first-paint') {
            logMetric(entry.startTime, 'fp');
        }
        else if (entry.name === fcpEntryName) {
            fcp.value = entry.startTime;
            logMetric(fcp.value, 'fcp');
            perfObservers[4] = po('longtask', initTotalBlockingTime);
            poDisconnect(0);
        }
    });
};
export var initLargestContentfulPaint = function (performanceEntries) {
    var lastEntry = performanceEntries.pop();
    if (lastEntry) {
        lcp.value = lastEntry.renderTime || lastEntry.loadTime;
    }
};
export var initElementTiming = function (performanceEntries) {
    performanceEntries.forEach(function (entry) {
        if (entry.identifier) {
            logMetric(entry.startTime, entry.identifier);
        }
    });
};
//# sourceMappingURL=paint.js.map